!function(a){var b=a(document),c=Array.prototype.slice,d={listening:!1,watchList:[]},e={};d.init=function(b){return d.listening||d.listen(),this.each(function(){var c=a(this),e=a.extend({$elem:c,bounds:d.calculateBounds(c,parseInt(b.distance,10)||200)},b);d.watchList.push(e),d.proxyEvents(c,b.events)})},d.proxyEvents=function(b,c){c&&a.each(c,function(c,e){a.isFunction(e)?b.on(c,d.cancelEventUntilLoaded):a.isPlainObject(e)&&a.isFunction(e.before)&&b.on(c,e.before)})},d.restoreProxiedEvents=function(b,c){b.events&&a.each(b.events,function(e,f){a.isFunction(f)?(b.$elem.off(e,d.cancelEventUntilLoaded),c||b.$elem.on(e,f)):a.isPlainObject(f)&&(b.$elem.off(e,f.before),a.isFunction(f.after)&&!c&&b.$elem.on(e,f.after))})},d.calculateBounds=function(a,b){var c=a.outerWidth(),d=a.outerHeight(),e=a.offset();return{left:e.left-b,top:e.top-b,right:e.left+c+b,bottom:e.top+d+b}},d.check=function(a){for(var b,c=0;b=d.watchList[c];)a.pageX>=b.bounds.left&&a.pageX<=b.bounds.right&&a.pageY>=b.bounds.top&&a.pageY<=b.bounds.bottom?(d.watchList.splice(c,1),d.loadAndRun(b)):c+=1;d.watchList.length||d.stopListening()},d.loadAndRun=function(b){var c;a.isArray(b.js)||(b.js=[b.js]),c=b.js.length,a.each(b.js,function(e,f){a.ajax({url:f,dataType:"script"}).done(function(a){1===c&&d.run(b,a)}).always(function(){c-=1}).fail(b.error)})},d.run=function(b,c){d.restoreProxiedEvents(b),a.isFunction(b.success)&&b.success.call(b.$elem,c)},d.listen=function(){b.on("mousemove",d.check)},d.stopListening=function(){b.off("mousemove",d.check)},d.cancelEventUntilLoaded=function(a){a.preventDefault(),a.stopPropagation()},e.destroy=function(){return d.stopListening(),a.each(d.watchList,function(a,b){d.restoreProxiedEvents(b,!0)}),d.watchList.length=0,this},e.remove=function(){return this.each(function(){for(var a,b=this,c=0;a=d.watchList[0];)a.$elem.get(0)===b?(d.watchList.splice(c,1),d.restoreProxiedEvents(a,!0)):c+=1;d.watchList.length||d.stopListening()})},a.proximityLoader=a.fn.proximityLoader=function(a){return"object"==typeof a?d.init.call(this,a):e[a].apply(this,c.call(arguments,1))}}(jQuery);